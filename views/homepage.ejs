<!doctype html>
<html lang="en">
  <head>
    <title>Home Page</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/c018486525.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/style.css">
    <style>
      body{
            background-color: rgb(244, 244, 244);
        }
        .blue1 {
            background-color: #a9d6e5;
        }
        .blue2 {
            background-color: #89c2d9;
        }
        .blue3 {
            background-color: #61a5c2;
        }
        .blue4 {
            background-color: #468faf;
        }
        .blue5 {
            background-color: #2c7da0;
        }
        .blue6 {
            background-color: #d1eaf3;
        }
        .text-grey {
          color: rgb(244, 244, 244);
        }
    </style>
  </head>
  <body>
<!-- header partial -->
    <%- include('partials/layout/header.ejs') %> 
    
<main>


  <!-- main container -->
<div class="container-fluid d-flex">

  <!-- main feed  -->
<div class="col-7 col-lg-9 border my-2">

  <!-- tabs -->
  <div class="">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link active" href="#">Recent</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Language</a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="#">JavaScript</a>
          <a class="dropdown-item" href="#">HTML/CSS</a>
          <a class="dropdown-item" href="#">Python </a>
          <a class="dropdown-item" href="#">C#</a>
          <a class="dropdown-item" href="#">Java</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">All Projects</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="#">My Projects</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/submission">Add Project</a>
      </li>
    
    </ul>
  </div>
  
  <!-- start loop for main feed -->
<% projects.forEach(project => { %>
  
  <!-- project card div -->
  <div class="card text-center mx-1 my-2">
    <div class="card-header blue1">
    <% users.forEach(user => { %>
      <% if (user.id === project.userID) { %>
        <%= user.username %> 
      <% } %>
    <% }) %>
    
    </div>
    <div class="card-body">
      <h5 class="card-title"><%=project.postTitle%> </h5>
      <p class="card-text"><%= project.postDesc %> </p>
      <p class="card-text">|<% project.languages.forEach(language => { %>
              <%= language %> |
      <% }) %> </p>
      <a href="/project/<%=project.id%>/<%= project.userID %>" class="btn btn-secondary blue5">Go to Project</a>
    </div>  
    <div class="card-footer text-muted blue3">
       
      
    </div>
  </div>
  <!-- end project card -->
 
<% }) %>
<!-- end loop for projects feed -->
  
</div>
<!-- end main feed div -->

<!-- sidebar -->

<div class="col-5 col-lg-3 blue4">
  <h3 class="mx-3 mt-2 text-grey" >Hello, <%= userObj.username %>!</h3>
  <div class="d-flex justify-content-center blue4">
  <img src="<%=userObj.imageurl%>" class="card-img-top w-50 mb-3" alt="..." style="border-radius: 50%; border: solid;">

  </div>
  <!-- start of card -->
  <div class="card w-100" >
    
    <div class="card-body">
      <h5 class="card-title"></h5>
      <p class="card-text">Junior Software Engineer. Student at Digital Crafts. Looking to collaborate with other developers on projects.</p>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item"><i class="fab fa-js" ></i> Javascript </li>
      <li class="list-group-item"> <i class="fab fa-html5"></i> HTML</li>
      <li class="list-group-item"><i class="fab fa-css3-alt"></i> CSS </li>
      <li class="list-group-item"><i class="fab fa-python"></i> Python </li>
      <li class="list-group-item"><i class="fab fa-cuttlefish"></i><i class="fas fa-hashtag"></i></li>
    </ul>
    <div class="card-body">
      <button type="button" class="btn btn-primary"><a href="https://github.com/<%=userObj.github%> " class="card-link" target="_blank" style="color: white;">My Github</a></button>
  
      <!-- <a href="#" class="card-link">Linked In</a> -->
    </div>
  </div>
<!-- end card div -->
</div>
<!-- end of sidebar div -->
</div>
<!-- end of main container div -->

</main>




      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
